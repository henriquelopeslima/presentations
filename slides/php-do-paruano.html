<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Paruano</title>

        <link rel="stylesheet" href="../dist/reset.css">
        <link rel="stylesheet" href="../dist/reveal.css">
        <link rel="stylesheet" href="../dist/theme/white.css">

        <link rel="stylesheet" href="../plugin/highlight/monokai.css">

        <link rel="stylesheet" href="css/meta.css">
    </head>
    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>PHP do "paruano"</h1>
                </section>

                <section>
                    <h2>Tudo que c√™ ainda n√£o t√° usando (Mas devia!)</h2>
                </section>

                <section><h2>Quem sou eu?</h2></section>

                <section>
                    <div style="display: flex;">
                        <div>
                            <h2>Henrique Lima</h2>

                            <ul style="font-size: 2rem">
                                <li class="fragment">Criado no Carpina, Russas, Cear√° üåµ</li>
                                <li class="fragment">Formando em Ci√™ncia da Computa√ß√£o pela <span class="fragment highlight-blue"><span>UFC</span></li>
                                <li class="fragment">Projetos Open Source pela <span style="color: #416d31;">Ser<strong>t√£o</strong>Dev</span> e em projetos propriet√°rio pela <strong><span style="color: #d85b13;">Objective</span></strong></li>
                                <li class="fragment">
                                    <span class="fragment"><strong style="color: #007cba;">PHP com Rapadura</strong>,</span>
                                    <strong class="fragment" style="color: #4537c4;">PHPeste</strong> 
                                    <span class="fragment">e <strong style="color: #e0b12d;">FLISol</strong></span>
                                </li>
                                <li class="fragment">Evangelista Crist√£o e do Software Livre</li>
                            </ul>
                        </div>
                        <div style="width: 40%;">
                            <img src="img/henrique-php-pest.jpeg" alt="Henrique no PHPeste de Natal">
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Como assim Paruano?</h2>
                    <h3 class="fragment" style="font-size: 2rem; color: #d85b13;">"Paruano" √© um termo regional que significa algo como "ano que vem, futuro".</h3>
                </section>

                <section>
                    <iframe src="https://giphy.com/embed/7qsy0r6iwCJsURssZY" width="480" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/HistoryLAT-brand-history-hist-7qsy0r6iwCJsURssZY"></a></p>
                </section>

                 <section>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/2/27/PHP-logo.svg" alt="Logo PHP" style="width: 400px; font-size: 2.5rem;">
                    <p>De ferramenta pessoal a linguagem dominante na web</p>
                    <p>1994 - Presente</p>
                </section>

                <!-- <section>
                    <h2>O que √© PHP?</h2>
                    <ul>
                        <li class="fragment">Linguagem de script de uso geral</li>
                        <li class="fragment">Especialmente adequada para desenvolvimento web</li>
                        <li class="fragment">Acr√¥nimo recursivo: <strong>PHP: Hypertext Preprocessor</strong></li>
                        <li class="fragment">Open source e multiplataforma</li>
                        <li class="fragment">Uma das linguagens mais populares para desenvolvimento web</li>
                    </ul>
                </section> -->

                <section>
                    <h2>Os Primeiros Dias (1994-1995)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">1994</span> Rasmus cria "PHP Tools"</li>
                        <li class="fragment">Bin√°rios CGI em C para rastrear visitas ao seu CV</li>
                        <li class="fragment"><span class="fragment highlight-red">1995</span> C√≥digo liberado publicamente</li>
                        <li class="fragment">FI "Forms Interpreter"</li>
                        <li class="fragment">PHP "Personal Home Page Construction Kit"</li>
                    </ul>
                </section>

                <section>
                    <div class="founder">
                        <div style="display: flex; align-items: center; gap: 20px;">
                            <img src="https://pbs.twimg.com/profile_images/918348833205116928/V9ROYRNJ_400x400.jpg" alt="Rasmus Lerdorf" style="border-radius: 50%; width: 150px;">
                            <strong style="font-size: 4rem;">Rasmus Lerdorf</strong>
                        </div>
                        <div class="founder-info">
                            <ul>
                                <li class="fragment">Nascido na Groenl√¢ndia (1968)</li>
                                <li class="fragment">Engenheiro de software dinamarqu√™s-canadense</li>
                                <li class="fragment">Criou o PHP para gerenciar seu site pessoal</li>
                                <li class="fragment">N√£o planejava criar uma linguagem de programa√ß√£o</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
                    <img src="https://rapaduratech.com.br/wp-content/uploads/2023/08/37441761060_79be42d649_k_auto_x2_light_ai-1024x684.jpg" alt="Rasmus Lerdorf">
                </section>

                <section data-background="#333">
                    <h2>PHP/FI 2.0 (1996-1997)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">1996</span> PHP/FI introduzido</li>
                        <li class="fragment">Evoluiu de ferramentas para linguagem de programa√ß√£o</li>
                        <li class="fragment">Suporte a bancos de dados (DBM, mSQL)</li>
                        <li class="fragment">Implementa√ß√£o de cookies</li>
                        <li class="fragment">Fun√ß√µes definidas pelo usu√°rio</li>
                        <li class="fragment">Em 1998: ~60.000 dom√≠nios (1% da internet)</li>
                    </ul>
                </section>

                <section>
                    <h2>PHP 3 | A Grande Reescrita (1997-1998)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">1997</span> Andi Gutmans e Zeev Suraski reescrevem o interpretador</li>
                        <li class="fragment">Colabora√ß√£o com Rasmus</li>
                        <li class="fragment">PHP: "PHP: Hypertext Preprocessor"</li>
                        <li class="fragment">Fortes recursos de extensibilidade</li>
                        <li class="fragment">Introdu√ß√£o √† programa√ß√£o orientada a objetos</li>
                        <li class="fragment">10% dos servidores web</li>
                    </ul>
                </section>

                <section data-background="#333">
                    <h2>PHP 4 | Zend Engine (2000)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">2000</span> Lan√ßamento do PHP 4</li>
                        <li class="fragment">Motor Zend Engine (Zeev + Andi)</li>
                        <li class="fragment">Melhorias significativas de desempenho</li>
                        <li class="fragment">Suporte a mais servidores web</li>
                        <li class="fragment">Sess√µes HTTP</li>
                        <li class="fragment">Novas constru√ß√µes de linguagem</li>
                    </ul>
                </section>

                <section>
                    <h2>PHP 5 | Maturidade (2004)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">2004</span> Lan√ßamento do PHP 5</li>
                        <li class="fragment">Zend Engine 2.0</li>
                        <li class="fragment">Novo modelo de objetos</li>
                        <li class="fragment">PDO (PHP Data Objects)</li>
                        <li class="fragment">Melhor suporte a XML</li>
                        <li class="fragment">Tratamento de exce√ß√µes melhorado</li>
                    </ul>
                </section>

                <section data-background="#333">
                    <h2>PHP 7 | Salto de Desempenho (2015)</h2>
                    <ul>
                        <li class="fragment"><span class="version-badge">2015</span> Lan√ßamento do PHP 7</li>
                        <li class="fragment">Zend Engine 3.0</li>
                        <li class="fragment">At√© 2x mais r√°pido que PHP 5.6</li>
                        <li class="fragment">Menor uso de mem√≥ria</li>
                        <li class="fragment">Suporte consistente a 64 bits</li>
                        <li class="fragment">Classes an√¥nimas</li>
                        <li class="fragment">Operador de coalesc√™ncia nula (??)</li>
                    </ul>
                </section>

                <section>
                    <h2>PHP 8 | Moderniza√ß√£o (2020)</h2>
                    <ul>
                        <li class="fragment">Argumentos Nomeados</li>
                        <li class="fragment">Match Expression</li>
                        <li class="fragment">Uni√£o de tipos</li>
                        <li class="fragment">Atributos</li>
                        <li class="fragment">Operador Nullsafe</li>
                        <li class="fragment">JIT Compiler</li>
                        <li class="fragment">Enums & Fibers</li>
                    </ul>
                    <p class="fragment" style="font-size: 2rem; color: #d85b13;">Essa base preparou o terreno para as ferramentas modernas.</p>
                </section>

                <!-- <section class="timeline-slide">
                    <h2>Linha do Tempo do PHP</h2>
                    <ul>
                        <li><span class="version-badge">1994</span> PHP Tools - Rasmus Lerdorf</li>
                        <li><span class="version-badge">1995</span> PHP/FI - Forms Interpreter</li>
                        <li><span class="version-badge">1996</span> PHP/FI 2.0</li>
                        <li><span class="version-badge">1998</span> PHP 3 - Reescrita completa</li>
                        <li><span class="version-badge">2000</span> PHP 4 - Zend Engine</li>
                        <li><span class="version-badge">2004</span> PHP 5 - Maturidade</li>
                        <li><span class="version-badge">2015</span> PHP 7 - Salto de performance</li>
                        <li><span class="version-badge">2020</span> PHP 8 - Moderniza√ß√£o</li>
                    </ul>
                </section> -->

                <section data-background="#333">
                    <h2>Sabendo disso o que podemos afirmar?</h2>
                </section>

                <section>
                    <h2 class="fragment">O PHP n√£o √© o mesmo</h2>
                    <ul style="font-size: 2.5rem; line-height: 1.5;">
                        <li class="fragment">De linguagem "frouxa" para tipada e robusta.</li>
                        <li class="fragment" data-id="cangote">Cangote de Jegue.</li>
                        <li class="fragment" data-id="farinheira">Casa de Farinheira.</li>
                        <li class="fragment" data-id="escuro">Passo Infalso.</li>
                    </ul>
                </section>

                <section>
                    <h3>Acabando com o "Cangote de Jegue"</h3>
                </section>

                <section>
                    <div class="tenor-gif-embed" data-postid="27085110" data-share-method="host" data-aspect-ratio="0.925" data-width="70%"><a href="https://tenor.com/view/donkey-flip-farm-horse-jump-gif-27085110">Donkey Flip GIF</a>from <a href="https://tenor.com/search/donkey-gifs">Donkey GIFs</a></div> <script type="text/javascript" async src="https://tenor.com/embed.js"></script>
                </section>

                <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 2rem; line-height: 2rem;" class="hljs php" data-trim data-line-numbers="|1,2,3,4,5|7|9,10,11,12,14|">
                            function taskBlock(string $name) {
                                echo "[$name] Start. Main is waiting.";
                                sleep(2); 
                                echo "[$name] End.";
                            }

                            echo 'Start!';

                            $startTime = microtime(true);

                            taskBlock("Task A");
                            taskBlock("Task B");

                            $totalTime = microtime(true) - $startTime;
                            [...]
                        </code>
                    </pre>
                </section>

                 <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 2rem; line-height: 2rem;" class="hljs txt" data-trim data-line-numbers="|1|2,3|4,5|6|7|">
                            Start!
                            [Task A] Start. Main script waiting...
                            [Task A] End.
                            [Task B] Start. Main script waiting...
                            [Task B] End.
                            Finish
                            Time total (Marromeno): 4 segundos
                        </code>
                    </pre>
                </section>

                <section>
                    <h1>E como eu resolvo?</h1>
                </section>

                <section>
                    <iframe src="https://giphy.com/embed/SAHGcjT1jNvDB6oxI8" width="480" height="374" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
                </section>

                <section data-background="#333">
                    <h1>Fiber</h1>
                </section>
            
                <section>
                    <ul style="font-size: 3rem;">
                        <li class="fragment">Problema: I/O Bloqueante.</li>
                        <li class="fragment">Fibers (Fun√ß√µes paus√°veis).</li>
                        <li class="fragment">Multitarefa Cooperativa.</li>
                    </ul>
                </section>

                <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 2rem; line-height: 2rem;" class="hljs php" data-trim data-line-numbers="|3,4,5,6,7,8,9|11|13|">
                            $startTime = microtime(true);

                            $fibers = [
                                new Fiber(fn() => api('A', 2)),
                                new Fiber(fn() => api('B', 2)),
                                new Fiber(fn() => api('C', 2)),
                                new Fiber(fn() => api('D', 2)),
                                new Fiber(fn() => api('E', 2)),
                            ];

                            scheduler(...$fibers);

                            $totalTime = microtime(true) - $startTime;
                        </code>
                    </pre>
                </section>

                <section>
                    <img src="img/php-do-paruano/fiber-concurrency.svg" alt="">
                </section>


                <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 2rem; line-height: 2rem;" class="hljs txt" data-trim data-line-numbers="|1|2,3,4,5,6|8|10|12,13|">
                            PHP 8.4 com Fibers (Concorr√™ncia Real)
                            A -> Perando : 2s.
                            B -> Perando : 2s.
                            C -> Perando : 2s.
                            D -> Perando : 2s.
                            E -> Perando : 2s.

                            Fibers foram iniciadas e suspensas.

                            Tempo total do Agendador: 2s

                            Tempo total: 2 segundos.
                            Requisi√ß√£o mais lenta (2s).
                        </code>
                    </pre>
                </section>

                <!-- <section>
                    <h3>Fibers vs. Generators: A Pilha</h3>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Generators (<strong>yield</strong>): Stackless. A pausa s√≥ pode ocorrer na fun√ß√£o que cont√©m o yield.</li>
                        <li class="fragment">Fibers (<strong>Fiber::suspend()</strong>): Stackfull. A pausa ocorre em qualquer n√≠vel de aninhamento. </li>
                        <li class="fragment" style="color: #416d31;">Elimina o problema do "qual cor √© sua fun√ß√£o?".</li>
                    </ul>
                    <h4 class="fragment">Vantagem Pr√°tica: Concorr√™ncia de I/O</h4>
                    <p class="fragment" style="font-size: 1.5rem;">O tempo total de 3 requisi√ß√µes √© reduzido da soma dos tempos para o tempo da requisi√ß√£o mais longa.</p>
                </section> -->

                <section>
                    <h1>E a casa de farinha?</h1>
                </section>

                <section>
                    <img src="https://i.ytimg.com/vi/YHchzokK5ko/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAJ8cY3I5xxQRoaTrYk0XkqFQmVQg" alt="">
                </section>

                <section>
                    <h2>Organizando a "Casa de Farinheira"</h2>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Problema: Escalares m√°gicos espalhados pelo c√≥digo.</li>
                        <li class="fragment">Risco: Erros de digita√ß√£o levam a bugs <span class="fragment highlight-red">silenciosos.</li>
                        <li class="fragment">Enumera√ß√µes - um tipo de dado nativo, finito e seguro.</li>
                    </ul>
                </section>

                <section>
                    <h2>Tipagem Forte em A√ß√£o</h2>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Pure Enums: Apenas nomes (<strong>case Draft;</strong>).</li>
                        <li class="fragment">Backed Enums: Valor escala para persist√™ncia em DB.</li>
                    </ul>
                </section>

                 <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 1.7rem;" class="hljs php" data-trim data-line-numbers="1|2,4|3|6,8|7|">
                            // Strings M√°gicas
                            function updateStatus(string $status) {
                                // [logic]
                            }
                            
                            updateStatus('published'); // OK
                            // [logic]
                            updateStatus('publishe');  // Bug silencioso!
                        </code>
                    </pre>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        ### O Rigor do Novo
                        
                        ```php
                        // Depois (Enum Tipado)
                        enum PostStatus: string {
                            case Draft = 'draft';
                            case Published = 'published';
                        }
                        
                        function updateStatus(PostStatus $status) {
                            //... l√≥gica garantida...
                        }
                        
                        updateStatus(PostStatus::Published); // OK
                        updateStatus('publishe'); // Fatal: TypeError!
                        ```
                    </script>
                </section>

                <section>
                    <h1>Passo infalso</h1>
                </section>

                <section>
                    <iframe src="https://giphy.com/embed/alUHKvX7BJXwc" width="480" height="442"  frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
                </section>

                <section>
                    <h2>Nullsafe Operator</h2>
                    <!-- <h3>"Ligando a Lamparina" no seu C√≥digo</h3> -->
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment"><span class="fragment highlight-red">Fatal Error</span> ao navegar em cadeias de chamadas que podem retornar null. </li>
                        <li class="fragment">Operador <strong>?-></strong> (Nullsafe).</li>
                        <li class="fragment">Interrompe a cadeia de chamadas ao encontrar <strong>null</strong>, retornando <strong>null</strong> de forma segura.</li>
                        <li class="fragment" style="color: #416d31;">Reduz o boilerplate de m√∫ltiplos ifs aninhados. </li>
                    </ul>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        ```php
                        // Antes (Checagem manual)
                        $country = null;
                        if ($session!== null) {
                            $user = $session->user;
                            if ($user!== null) {
                                $address = $user->getAddress();
                                if ($address!== null) {
                                    $country = $address->country;
                                }
                            }
                        }
                        ```
                    </script>
                </section>

                <section data-markdown>
                    <script type="text/template">
                        ```php
                        // Depois (Com?->)
                        $country = $session?->user?->getAddress()?->country;
                        
                        // Uso combinado com Null Coalescing (??)
                        $city = $user?->getAddress()?->getCity()?? 'Cidade Desconhecida';
                        ```
                    </script>
                </section>

                <!-- <section>
                    <h3>Nullsafe: Potenciais "Tombos"</h3>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">√â Read-Only: N√£o pode ser usado para atribuir valores.</li>
                        <li class="fragment">Pode mascarar erros de l√≥gica: Transforma uma exce√ß√£o em um <strong>null</strong> silencioso.</li>
                        <li class="fragment">`?->` (Chain) √© diferente de `??` (Fallback Value). </li>
                        <li class="fragment" style="color: #d85b13;">Melhor Pr√°tica: Use para sintaxe. A checagem de nulo √© movida para o resultado final. [4]</li>
                    </ul>
                </section> -->

                <section>
                    <h1>Olhando pra frente</h1>
                </section>

                <section>
                    <h3>As RFCs Mais "Desinibidas" (PHP 8.5+)</h3>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Pipe</li>
                        <li class="fragment">Final Property Promotion</li>
                        <li class="fragment">#[NoDiscard()]</li>
                        <li class="fragment">array_first e array_last</li>
                    </ul>
                </section>

                 <section>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Pipe Operator ou o <strong>|></strong> </li>
                        <li class="fragment">Fun√ß√£o: Passa o resultado da esquerda como argumento para a fun√ß√£o √† direita.</li>
                        <li class="fragment">Objetivo: Eliminar o aninhamento de fun√ß√µes em favor de um fluxo linear e funcional.</li>
                    </ul>
                </section>

                 <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 1.7rem;" class="hljs php" data-trim data-line-numbers="">
                        array_values(
                            array_unique(
                                array_merge(...array_column($arr, 'tags'))
                            )
                        );
                        </code>
                    </pre>                            
                </section>
                    <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 1.7rem;" class="hljs php" data-trim data-line-numbers="">
                       $arr
                        |> (fn($x) => array_column($x, 'tags'))
                        |> (fn($x) => array_merge(...$x))
                        |> array_unique(...)
                        |> array_values(...);
                        </code>
                    </pre>                            
                </section>

                <section data-auto-animate>
                    <pre data-id="code-animation">
                        <code style="font-size: 1.7rem;" class="hljs php" data-trim data-line-numbers="|1|2,3,4,5|3|7,8|10,11|">
                            #[\NoDiscard("as the operation result is important")]
                            function performOperation(): int {
                                // Perform some operation
                                return 1;
                            }   

                            // Warning: The return value of function performOperation() is expected to be consumed, ...
                            performOperation(); 

                            // This will not trigger a warning
                            $status = performOperation();

                        </code>
                    </pre>
                </section>

                <section>
                    <h1>
                        Mas e o Futuro?
                    </h1>
                </section>

                <section>
                    <iframe src="https://giphy.com/embed/3ornk3ifPpyCwE8Ti8" width="480" height="206" style="" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
                </section>

                <section>
                    <img src="img/php-do-paruano/php-foundation.png" alt="">
                </section>
                
                <section>
                    <h3 style="color: #416d31;">O PHP Moderno √©:</h3>
                    <ul style="font-size: 2rem; line-height: 1.5;">
                        <li class="fragment">Mais R√°pido (Gra√ßas aos Fibers).</li>
                        <li class="fragment">Mais Seguro (Gra√ßas aos Enums).</li>
                        <li class="fragment">Mais Limpo (Gra√ßas ao Nullsafe).</li>
                        <li class="fragment">Mais vivo (Gra√ßas a Comunidade).</li>
                    </ul>
                </section>

                <section>
                    <h3 class="fragment">O PHP est√° mais "de boa na lagoa" do que nunca.</h3>
                </section>

                <section data-background="img/isso_e_tudo_pessoal.gif"></section>

                <section>
                    <p class="r-fit-text">D√öVIDAS?</p>
                </section>

                <section>
                    <h2>Refer√™ncias</h2>
                    <h4>E de onde tu tirou isso homi?</h4>
                </section>

                <section>
                    <iframe src="https://giphy.com/embed/dXDLnfmTvkOp6FFTbe" width="480" height="360" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
                </section>

                <section>
                    Valeu primo!

                    <br><br><br>

                    @henriquelopeslima
                    <br>

                    https://linkedin.com/in/henrique-lopes-lima

                    <br>

                    <strong>Soli Deo Gloria</strong>
                </section>
            </div>
        </div>

        <script src="../dist/reveal.js"></script>
        <script src="../plugin/notes/notes.js"></script>
        <script src="../plugin/markdown/markdown.js"></script>
        <script src="../plugin/highlight/highlight.js"></script>
        <script src="../plugin/zoom/zoom.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/reveal.js-mermaid-plugin@2.3.0/plugin/mermaid/mermaid.js"></script>
        <script>
            Reveal.initialize({
				hash: true,
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
        </script>
    </body>
</html>